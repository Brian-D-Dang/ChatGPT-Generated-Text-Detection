When the sun is setting the light must pass through more atmosphere to get to your eye. The atmosphere acts as a sort of low pass filter blocking or higher frequencies of light (blue purple). So what your left with is lower frequency red and orange. This process is called Rayleigh scattering. URL0 At the same time atmospheric refraction "bends" the light around the earth. When you see the sun dip bellow the horizon it actually already dipped and what you see is the light that is being refracted around the earth. Higher frequencies are easier to refract, so for an extremely brief period when the sun dips bellow the horizon both these effects can be directly observed with a "green flash." Higher frequencies get scattered by atmosphere and lower frequencies can't refract around the earth, so your briefly left with the middle, green.